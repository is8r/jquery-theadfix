!function(t,i){"use strict";function e(i,e){this.element=i,this.settings=t.extend({},h,e),this._defaults=h,this._name=n,this.init()}function s(t,i){var e;return function(){clearTimeout(e),e=setTimeout(function(){t.call()},i)}}var n="theadfix",o="."+n,a={FIX:"fix"+o,RELEACE:"release"+o},h={wait:30,position:"fixed",isFixed:!1,mode:"window"};t.extend(e.prototype,{init:function(){var e=t(this.element),n=e.children("thead").eq(0);if("parent"==e.attr("data-theadfix")||"parent"==this.settings.theadfix?(this.settings.mode="parent",this.settings.position="absolute"):this.settings.position="fixed",!n.data("clone")){var o=n.clone();n.after(o),o.css("visibility","hidden"),o.attr("aria-hidden","true"),n.data("clone",o),this.updateSize()}var a=this;"window"==this.settings.mode?t(i).on("scroll resize",s(function(){a.onScroll()},this.settings.wait)):t(i).on("resize",s(function(){a.onScroll()},this.settings.wait)),this.onScroll()},onScroll:function(){var e=t(this.element),s=e.children("thead").eq(0),n=e.offset();"parent"==this.settings.mode?this.update(!1):n.top+e.height()-s.height()<t(i).scrollTop()||n.top>t(i).scrollTop()?this.update(!0):n.top<t(i).scrollTop()&&this.update(!1)},updateSize:function(){for(var i=t(this.element),e=i.children("thead").eq(0),s=e.data("clone"),n=0;n<e.children("tr").length;n++){var o=e.children("tr").eq(n),a=s.children("tr").eq(n);o.css("width",a.css("width"));for(var h=0;h<o.children("th").length;h++){var d=o.children("th").eq(h),r=a.children("th").eq(h);d.css("width",r.css("width"))}}},update:function(e){var s=t(this.element),n=s.children("thead").eq(0);if(e)n.css("position","static"),n.data("clone").css("display","none"),this.settings.isFixed!=e&&(this.settings.isFixed=e,s.trigger(t.Event(a.RELEACE)));else{var o=s.parent().css("border-top-width");if(n.css("position",this.settings.position),n.css("top",o),n.data("clone").css("display","table-header-group"),"window"==this.settings.mode){var h=t(i).scrollLeft(),d=s.offset().left;n.css("left",-h+d)}this.settings.isFixed!=e&&(this.settings.isFixed=e,s.trigger(t.Event(a.FIX)))}this.updateSize()}}),t.fn[n]=function(i){return this.each(function(){t.data(this,n)||t.data(this,n,new e(this,i))})},t(function(){t("[data-"+n+"]")[n]()})}(jQuery,window,document);