<!DOCTYPE html><html lang='ja'><head><meta charset='utf-8'><meta content='width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no' name='viewport'><meta content='ie=edge' http-equiv='x-ua-compatible'><title>Theadfix</title><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/tether/1.3.2/js/tether.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js" integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7" crossorigin="anonymous"></script><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous"><link href="https://fonts.googleapis.com/earlyaccess/notosansjapanese.css" rel="stylesheet"/><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"/><link href="stylesheets/syntax-357fc9b5.css" rel="stylesheet"/><link href="stylesheets/styles-e35a59b0.css" rel="stylesheet"/></head><body class='index'><div class='container m-y-3'><div class='row'><div class='col-xs-12 col-sm-12'><h1> Theadfix <small>(jQuery Plugin)</small></h1><p>テーブルの<code>thead</code>要素を固定してくれるjQueryプラグインです。 jsを書かなくてもデータ属性を指定するだけで機能します。</p><hr><h2>使い方</h2><p><code>thead</code>要素をウィンドウに対して<code>fixed</code>で固定したい場合には<code>data-theadfix=&quot;window&quot;</code>を、親要素に対して<code>absolute</code>で固定したい場合には<code>data-theadfix=&quot;parent&quot;</code>をそれぞれ指定します。 デフォルトは<code>window</code>になっているので、<code>data-theadfix</code>と省略して指定する事も可能です。</p><div class="example"><div class='row'><div class='col-xs-6'><table class='table table-stripe' data-theadfix=''><thead><tr><th> id </th><th> name </th><th> kana </th></tr></thead><tbody><tr><td> 0 </td><td> 北海道 </td><td> ホッカイドウ </td></tr><tr><td> 1 </td><td> 青森県 </td><td> アオモリケン </td></tr><tr><td> 2 </td><td> 岩手県 </td><td> イワテケン </td></tr><tr><td> 3 </td><td> 宮城県 </td><td> ミヤギケン </td></tr><tr><td> 4 </td><td> 秋田県 </td><td> アキタケン </td></tr><tr><td> 5 </td><td> 山形県 </td><td> ヤマガタケン </td></tr><tr><td> 6 </td><td> 福島県 </td><td> フクシマケン </td></tr><tr><td> 7 </td><td> 茨城県 </td><td> イバラキケン </td></tr><tr><td> 8 </td><td> 栃木県 </td><td> トチギケン </td></tr><tr><td> 9 </td><td> 群馬県 </td><td> グンマケン </td></tr><tr><td> 10 </td><td> 埼玉県 </td><td> サイタマケン </td></tr><tr><td> 11 </td><td> 千葉県 </td><td> チバケン </td></tr><tr><td> 12 </td><td> 東京都 </td><td> トウキョウト </td></tr><tr><td> 13 </td><td> 神奈川県 </td><td> カナガワケン </td></tr><tr><td> 14 </td><td> 新潟県 </td><td> ニイガタケン </td></tr><tr><td> 15 </td><td> 富山県 </td><td> トヤマケン </td></tr><tr><td> 16 </td><td> 石川県 </td><td> イシカワケン </td></tr><tr><td> 17 </td><td> 福井県 </td><td> フクイケン </td></tr><tr><td> 18 </td><td> 山梨県 </td><td> ヤマナシケン </td></tr><tr><td> 19 </td><td> 長野県 </td><td> ナガノケン </td></tr><tr><td> 20 </td><td> 岐阜県 </td><td> ギフケン </td></tr><tr><td> 21 </td><td> 静岡県 </td><td> シズオカケン </td></tr><tr><td> 22 </td><td> 愛知県 </td><td> アイチケン </td></tr><tr><td> 23 </td><td> 三重県 </td><td> ミエケン </td></tr><tr><td> 24 </td><td> 滋賀県 </td><td> シガケン </td></tr><tr><td> 25 </td><td> 京都府 </td><td> キョウトフ </td></tr><tr><td> 26 </td><td> 大阪府 </td><td> オオサカフ </td></tr><tr><td> 27 </td><td> 兵庫県 </td><td> ヒョウゴケン </td></tr><tr><td> 28 </td><td> 奈良県 </td><td> ナラケン </td></tr><tr><td> 29 </td><td> 和歌山県 </td><td> ワカヤマケン </td></tr><tr><td> 30 </td><td> 鳥取県 </td><td> トットリケン </td></tr><tr><td> 31 </td><td> 島根県 </td><td> シマネケン </td></tr><tr><td> 32 </td><td> 岡山県 </td><td> オカヤマケン </td></tr><tr><td> 33 </td><td> 広島県 </td><td> ヒロシマケン </td></tr><tr><td> 34 </td><td> 山口県 </td><td> ヤマグチケン </td></tr><tr><td> 35 </td><td> 徳島県 </td><td> トクシマケン </td></tr><tr><td> 36 </td><td> 香川県 </td><td> カガワケン </td></tr><tr><td> 37 </td><td> 愛媛県 </td><td> エヒメケン </td></tr><tr><td> 38 </td><td> 高知県 </td><td> コウチケン </td></tr><tr><td> 39 </td><td> 福岡県 </td><td> フクオカケン </td></tr><tr><td> 40 </td><td> 佐賀県 </td><td> サガケン </td></tr><tr><td> 41 </td><td> 長崎県 </td><td> ナガサキケン </td></tr><tr><td> 42 </td><td> 熊本県 </td><td> クマモトケン </td></tr><tr><td> 43 </td><td> 大分県 </td><td> オオイタケン </td></tr><tr><td> 44 </td><td> 宮崎県 </td><td> ミヤザキケン </td></tr><tr><td> 45 </td><td> 鹿児島県 </td><td> カゴシマケン </td></tr><tr><td> 46 </td><td> 沖縄県 </td><td> オキナワケン </td></tr></tbody></table></div><div class='col-xs-6'><div class='example-wrapper'><table class='table table-stripe' data-theadfix='parent'><thead><tr><th> id </th><th> name </th><th> kana </th></tr></thead><tbody><tr><td> 0 </td><td> 北海道 </td><td> ホッカイドウ </td></tr><tr><td> 1 </td><td> 青森県 </td><td> アオモリケン </td></tr><tr><td> 2 </td><td> 岩手県 </td><td> イワテケン </td></tr><tr><td> 3 </td><td> 宮城県 </td><td> ミヤギケン </td></tr><tr><td> 4 </td><td> 秋田県 </td><td> アキタケン </td></tr><tr><td> 5 </td><td> 山形県 </td><td> ヤマガタケン </td></tr><tr><td> 6 </td><td> 福島県 </td><td> フクシマケン </td></tr><tr><td> 7 </td><td> 茨城県 </td><td> イバラキケン </td></tr><tr><td> 8 </td><td> 栃木県 </td><td> トチギケン </td></tr><tr><td> 9 </td><td> 群馬県 </td><td> グンマケン </td></tr><tr><td> 10 </td><td> 埼玉県 </td><td> サイタマケン </td></tr><tr><td> 11 </td><td> 千葉県 </td><td> チバケン </td></tr><tr><td> 12 </td><td> 東京都 </td><td> トウキョウト </td></tr><tr><td> 13 </td><td> 神奈川県 </td><td> カナガワケン </td></tr><tr><td> 14 </td><td> 新潟県 </td><td> ニイガタケン </td></tr><tr><td> 15 </td><td> 富山県 </td><td> トヤマケン </td></tr><tr><td> 16 </td><td> 石川県 </td><td> イシカワケン </td></tr><tr><td> 17 </td><td> 福井県 </td><td> フクイケン </td></tr><tr><td> 18 </td><td> 山梨県 </td><td> ヤマナシケン </td></tr><tr><td> 19 </td><td> 長野県 </td><td> ナガノケン </td></tr><tr><td> 20 </td><td> 岐阜県 </td><td> ギフケン </td></tr><tr><td> 21 </td><td> 静岡県 </td><td> シズオカケン </td></tr><tr><td> 22 </td><td> 愛知県 </td><td> アイチケン </td></tr><tr><td> 23 </td><td> 三重県 </td><td> ミエケン </td></tr><tr><td> 24 </td><td> 滋賀県 </td><td> シガケン </td></tr><tr><td> 25 </td><td> 京都府 </td><td> キョウトフ </td></tr><tr><td> 26 </td><td> 大阪府 </td><td> オオサカフ </td></tr><tr><td> 27 </td><td> 兵庫県 </td><td> ヒョウゴケン </td></tr><tr><td> 28 </td><td> 奈良県 </td><td> ナラケン </td></tr><tr><td> 29 </td><td> 和歌山県 </td><td> ワカヤマケン </td></tr><tr><td> 30 </td><td> 鳥取県 </td><td> トットリケン </td></tr><tr><td> 31 </td><td> 島根県 </td><td> シマネケン </td></tr><tr><td> 32 </td><td> 岡山県 </td><td> オカヤマケン </td></tr><tr><td> 33 </td><td> 広島県 </td><td> ヒロシマケン </td></tr><tr><td> 34 </td><td> 山口県 </td><td> ヤマグチケン </td></tr><tr><td> 35 </td><td> 徳島県 </td><td> トクシマケン </td></tr><tr><td> 36 </td><td> 香川県 </td><td> カガワケン </td></tr><tr><td> 37 </td><td> 愛媛県 </td><td> エヒメケン </td></tr><tr><td> 38 </td><td> 高知県 </td><td> コウチケン </td></tr><tr><td> 39 </td><td> 福岡県 </td><td> フクオカケン </td></tr><tr><td> 40 </td><td> 佐賀県 </td><td> サガケン </td></tr><tr><td> 41 </td><td> 長崎県 </td><td> ナガサキケン </td></tr><tr><td> 42 </td><td> 熊本県 </td><td> クマモトケン </td></tr><tr><td> 43 </td><td> 大分県 </td><td> オオイタケン </td></tr><tr><td> 44 </td><td> 宮崎県 </td><td> ミヤザキケン </td></tr><tr><td> 45 </td><td> 鹿児島県 </td><td> カゴシマケン </td></tr><tr><td> 46 </td><td> 沖縄県 </td><td> オキナワケン </td></tr></tbody></table></div><p></div></div></p><p></div></p><script>
$(document).on('ready', function() {
  $('[data-theadfix]').on('fix.theadfix', function(event) {
    console.log('fix.theadfix: ', event.target);
  });
  $('[data-theadfix]').on('release.theadfix', function(event) {
    console.log('release.theadfix: ', event.target);
  });
});
</script><pre class="highlight html"><code><span class="nt">&lt;table</span> <span class="na">data-theadfix</span><span class="nt">&gt;</span>
  <span class="nt">&lt;thead&gt;</span>...<span class="nt">&lt;/thead&gt;</span>
  <span class="nt">&lt;tbody&gt;</span>...<span class="nt">&lt;/tbody&gt;</span>
<span class="nt">&lt;/table&gt;</span>

<span class="nt">&lt;table</span> <span class="na">data-theadfix=</span><span class="s">"parent"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;thead&gt;</span>...<span class="nt">&lt;/thead&gt;</span>
  <span class="nt">&lt;tbody&gt;</span>...<span class="nt">&lt;/tbody&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</code></pre><hr><h2>メソッド</h2><p>デフォルトではロード時に<code>data-theadfix</code>属性が設定されている要素を対象に初期化していますが、 <code>$().theadfix(options)</code>を使用する事で個別に要素を初期化する事が可能です。</p><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="s1">'[data-theadfix]'</span><span class="p">).</span><span class="nx">theadfix</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
</code></pre><table class="table table-bordered"><tbody><tr><td>$().theadfix(options)</td><td>初期化</td></tr></tbody></table><hr><h2>オプション</h2><p>初期化時にオプションで値を渡すと一部の設定を変更する事が可能です。 htmlにデータ属性を指定して初期化する場合には<code>data-*</code>を追加する事でも設定が変更できます。</p><table class="table table-bordered"><tbody><tr><td>theadfix</td><td>window</td><td>theadをウィンドウに対して固定するか親要素に対して固定するかの指定。デフォルトはwindowになっていて、ウィンドウ上部にfixedで固定されます。 親要素をターゲットにabsoluteで固定したい場合にはparentを指定します。</td></tr><tr><td>wait</td><td>100</td><td>スクロールイベントを間引く時間。ms単位で指定する事ができ、その時間内は同じスクロールイベントが発生しないようになっています。</td></tr></tbody></table><hr><h2>イベント</h2><p>theadの挙動が変わる際のイベントを取得する事も可能です。</p><table class="table table-bordered"><tbody><tr><td>fix.theadfix</td><td>theadが固定されたタイミングで発生するイベントです</td></tr><tr><td>release.theadfix</td><td>theadが固定を解除されたタイミングで発生するイベントです</td></tr></tbody></table><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="s1">'#target'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'fix.theadfix'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'fix.theadfix: '</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">'#target'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'release.theadfix'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'release.theadfix: '</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div></div><script src="javascripts/jquery.theadfix-c9185147.js"></script><script src="javascripts/all-b04ec071.js"></script><script>
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-xxxxxxxx-x"]);
  _gaq.push(["_trackPageview"]);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script></body></html>